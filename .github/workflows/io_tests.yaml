name: Test IO

on:
  schedule:
    # Per https://docs.github.com/en/actions/writing-workflows/choosing-when-your-workflow-runs/events-that-trigger-workflows#schedule
    # Make this a weird time
    - cron: "23 5 * * 1"
  push:
    branches: [ "master" ]
  pull_request:
    paths:
      - 'ecoscope/io/earthranger.py'
      - 'ecoscope/io/async_earthranger.py'
      - 'ecoscope/io/earthranger_utils.py'
      - 'tests/test_earthranger_utils.py'
      - 'tests/test_async_earthranger_io.py'
      - 'tests/test_earthranger_io.py'

jobs:
  dev:
    uses: ./.github/workflows/tests.yml
    with:
      io: "io"
    secrets: inherit